<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pattern Master</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;-webkit-tap-highlight-color:transparent;user-select:none;}

body{
background:#0f0f1a;
color:white;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
height:100vh;
overflow:hidden;
}

/* ===== TOP BAR (BLACKJACK STYLE) ===== */
.top-bar{
position:fixed;
top:0;
width:100%;
height:55px;
display:flex;
align-items:center;
justify-content:center;
background:linear-gradient(135deg,#1a2a6c,#16245c);
box-shadow:0 4px 15px rgba(0,0,0,0.45);
z-index:100;
}

.brand{
font-size:18px;
font-weight:800;
letter-spacing:2px;
background:linear-gradient(90deg,#00f5ff,#ff00c8);
background-size:200% auto;
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:shine 3s linear infinite;
}

@keyframes shine{
to{background-position:200% center;}
}

/* GAME WRAPPER */
.game-wrapper{
margin-top:55px;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
height:calc(100vh - 55px);
}

/* INFO */
#info{
margin-bottom:20px;
text-align:center;
opacity:.8;
}

/* GRID */
#grid{
display:grid;
grid-template-columns:repeat(2,120px);
grid-template-rows:repeat(2,120px);
gap:20px;
margin-bottom:25px;
}

.btn{
display:flex;
align-items:center;
justify-content:center;
font-size:40px;
border-radius:20px;
cursor:pointer;
transition:all .2s ease;
background:#1a1a2e;
box-shadow:0 0 15px rgba(0,255,255,.2);
}

.btn:active{transform:scale(.95);}

.neon-up{color:#00f5ff;}
.neon-down{color:#ff00c8;}
.neon-left{color:#00ff88;}
.neon-right{color:#ffaa00;}

.active{
box-shadow:0 0 25px currentColor;
background:#111;
transform:scale(1.08);
}

#status{
height:30px;
margin-bottom:15px;
font-weight:600;
}

#startBtn{
padding:10px 25px;
border:none;
border-radius:20px;
background:linear-gradient(90deg,#00f5ff,#ff00c8);
color:white;
font-weight:700;
cursor:pointer;
}

#highscore{
margin-top:10px;
opacity:.7;
font-size:14px;
}
</style>
</head>
<body>

<div class="top-bar">
<div class="brand">PATTERN MASTER</div>
</div>

<div class="game-wrapper">

<div id="info">
Level: <span id="level">1</span> | 
Combo: <span id="combo">0</span>
</div>

<div id="status"></div>

<div id="grid">
<div class="btn neon-up" data-dir="up">⬆</div>
<div class="btn neon-right" data-dir="right">➡</div>
<div class="btn neon-left" data-dir="left">⬅</div>
<div class="btn neon-down" data-dir="down">⬇</div>
</div>

<button id="startBtn">Başla</button>
<div id="highscore"></div>

</div>

<script>
const buttons=document.querySelectorAll(".btn");
const levelEl=document.getElementById("level");
const comboEl=document.getElementById("combo");
const statusEl=document.getElementById("status");
const startBtn=document.getElementById("startBtn");
const highscoreEl=document.getElementById("highscore");

let pattern=[];
let playerIndex=0;
let level=1;
let combo=0;
let speed=800;
let isShowing=false;

let highScore=localStorage.getItem("patternHigh")||0;
highscoreEl.innerText="High Score: "+highScore;

function randomDir(){
const dirs=["up","down","left","right"];
return dirs[Math.floor(Math.random()*4)];
}

function flashButton(dir){
const btn=document.querySelector(`[data-dir='${dir}']`);
btn.classList.add("active");
setTimeout(()=>btn.classList.remove("active"),speed-200);
}

async function showPattern(){
isShowing=true;
statusEl.innerText="İzle...";
for(let i=0;i<pattern.length;i++){
flashButton(pattern[i]);
await new Promise(r=>setTimeout(r,speed));
}
isShowing=false;
statusEl.innerText="Sıranı Yap!";
}

function startGame(){
pattern=[];
level=1;
combo=0;
speed=800;
nextRound();
}

function nextRound(){
playerIndex=0;
pattern.push(randomDir());
levelEl.innerText=level;
comboEl.innerText=combo;
showPattern();
}

function gameOver(){
statusEl.innerText="Yanlış! Oyun Bitti";
if(level-1>highScore){
highScore=level-1;
localStorage.setItem("patternHigh",highScore);
highscoreEl.innerText="High Score: "+highScore;
}
}

buttons.forEach(btn=>{
btn.addEventListener("pointerdown",()=>{
if(isShowing)return;

const dir=btn.dataset.dir;
flashButton(dir);

if(dir===pattern[playerIndex]){
playerIndex++;
combo++;
comboEl.innerText=combo;

if(playerIndex===pattern.length){
level++;
speed=Math.max(300,speed-40);
setTimeout(()=>{
combo+=5;
comboEl.innerText=combo;
nextRound();
},600);
}
}else{
gameOver();
}
});
});

startBtn.onclick=startGame;
</script>

</body>
</html>
