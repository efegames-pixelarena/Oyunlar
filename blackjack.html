<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Blackjack</title>

<style>
body{
margin:0;
font-family:Arial;
background:#0c0f14;
color:white;
overflow:hidden;
}

/* ===== TOP BAR ===== */
.top-wrapper{
position:fixed;
top:0;
width:100%;
z-index:1000;
}

.top-bar{
height:85px;
background:linear-gradient(to bottom,#12202a,#0e1720);
display:flex;
justify-content:space-between;
align-items:center;
padding:0 15px;
}

.balance-box{
background:linear-gradient(45deg,#ff6a00,#ff2e00);
padding:12px 20px;
border-radius:15px;
font-weight:bold;
}

.menu-btn{
background:#1c1c1c;
padding:12px;
border-radius:10px;
font-size:20px;
}

.info-bar{
background:#111;
text-align:center;
padding:8px;
font-weight:bold;
letter-spacing:1px;
}

/* ===== DEALER STAGE ===== */
.dealer-stage{
margin-top:110px;
height:45vh;
display:flex;
justify-content:center;
align-items:flex-end;
position:relative;
}

.stage-frame{
position:absolute;
top:20px;
width:85%;
height:70%;
border-radius:25px;
border:8px solid #ff6a00;
box-shadow:0 0 20px #ff6a00;
display:flex;
justify-content:center;
align-items:center;
background:#1a1a1a;
}

.neon{
text-align:center;
font-size:28px;
text-shadow:0 0 15px orange;
}

.neon span{
color:gold;
}

.dealer-cards{
position:absolute;
bottom:10px;
font-size:22px;
}

/* ===== TABLE ===== */
.table{
position:absolute;
bottom:0;
width:100%;
height:50vh;
background:radial-gradient(circle at center,#2b2b2b 0%,#111 80%);
border-top-left-radius:200px;
border-top-right-radius:200px;
border:8px solid #ff6a00;
text-align:center;
padding-top:20px;
}

.player-cards{
font-size:22px;
margin-top:20px;
}

/* ===== CHIP AREA ===== */
.chip-area{
position:absolute;
bottom:20px;
width:100%;
display:flex;
justify-content:center;
align-items:center;
gap:20px;
}

.chip{
width:90px;
height:90px;
border-radius:50%;
background:#1976d2;
border:6px solid white;
display:flex;
justify-content:center;
align-items:center;
font-size:22px;
font-weight:bold;
box-shadow:0 0 15px #1976d2;
cursor:pointer;
}

.action-bar{
position:absolute;
bottom:120px;
width:80%;
left:10%;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(8px);
border-radius:20px;
padding:10px;
display:flex;
justify-content:space-around;
}

.action{
width:55px;
height:55px;
border-radius:12px;
background:#1c1c1c;
border:none;
color:white;
font-size:20px;
}

.action.active{
background:gold;
color:black;
}

/* ===== SOUND MODAL ===== */
.sound-modal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.9);
display:flex;
justify-content:center;
align-items:center;
z-index:2000;
}

.sound-box{
background:#1a1a1a;
padding:25px;
border-radius:20px;
width:280px;
text-align:center;
}

.sound-btn{
width:100%;
padding:15px;
margin:10px 0;
font-size:18px;
border-radius:12px;
border:none;
}

.on{background:#f4c542;color:black;}
.off{background:#333;color:white;}
</style>
</head>

<body>

<!-- SOUND -->
<div id="soundModal" class="sound-modal">
<div class="sound-box">
<button class="sound-btn on" onclick="enableSound()">ðŸ”Š Ses AÃ§Ä±k</button>
<button class="sound-btn off" onclick="disableSound()">ðŸ”‡ Ses KapalÄ±</button>
</div>
</div>

<audio id="bgMusic" loop>
<source src="" type="audio/mpeg">
</audio>

<!-- TOP -->
<div class="top-wrapper">
<div class="top-bar">
<div class="balance-box">GerÃ§ek Bakiye â‚º<span id="balance">1000</span></div>
<div class="menu-btn">â˜°</div>
</div>
<div class="info-bar">LÃœTFEN BAHÄ°S ALINIZ</div>
</div>

<!-- DEALER -->
<div class="dealer-stage">
<div class="stage-frame">
<div class="neon">SOLO<span>BET</span><br>Blackjack <span>Auto</span></div>
</div>
<div class="dealer-cards" id="dealerCards"></div>
</div>

<!-- TABLE -->
<div class="table">
BLACKJACK PAYS 3 TO 2
<div class="player-cards" id="playerCards"></div>
</div>

<!-- ACTION -->
<div class="action-bar">
<button class="action" onclick="clearBet()">ðŸ—‘</button>
<button class="action active" onclick="repeatBet()">âŸ³</button>
<button class="action" onclick="deal()">â–¶</button>
</div>

<div class="chip-area">
<div class="chip" onclick="addBet(20)">20</div>
</div>

<script>
let balance=1000;
let bet=0;
let lastBet=0;
let shoe;
let player=[];
let dealer=[];

class Shoe{
constructor(d=8){this.d=d;this.init();}
init(){
const suits=["â™ ","â™¥","â™¦","â™£"];
const vals=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];
this.cards=[];
for(let k=0;k<this.d;k++)
for(let s of suits)
for(let v of vals)
this.cards.push({v,s});
this.cards.sort(()=>Math.random()-0.5);
}
draw(){return this.cards.pop();}
}

function calc(hand){
let t=0,a=0;
for(let c of hand){
if(["J","Q","K"].includes(c.v))t+=10;
else if(c.v=="A"){t+=11;a++;}
else t+=parseInt(c.v);
}
while(t>21&&a>0){t-=10;a--;}
return t;
}

function addBet(x){
if(balance>=x){
bet+=x;
balance-=x;
update();
}
}

function clearBet(){
balance+=bet;
bet=0;
update();
}

function repeatBet(){
if(balance>=lastBet){
bet+=lastBet;
balance-=lastBet;
update();
}
}

function deal(){
if(bet==0)return;
shoe=shoe||new Shoe();
player=[shoe.draw(),shoe.draw()];
dealer=[shoe.draw(),shoe.draw()];
lastBet=bet;

let p=calc(player);
let d=calc(dealer);

if(p==21&&d!=21){balance+=bet*2.5;}
else if(p>21){}
else if(d>21||p>d){balance+=bet*2;}
else if(p==d){balance+=bet;}

bet=0;
renderCards();
update();
}

function renderCards(){
document.getElementById("playerCards").innerText=
player.map(c=>c.v+c.s).join(" ")+" ("+calc(player)+")";

document.getElementById("dealerCards").innerText=
dealer.map(c=>c.v+c.s).join(" ")+" ("+calc(dealer)+")";
}

function update(){
document.getElementById("balance").innerText=balance;
}

function enableSound(){
localStorage.setItem("sound","on");
document.getElementById("soundModal").style.display="none";
}

function disableSound(){
localStorage.setItem("sound","off");
document.getElementById("soundModal").style.display="none";
}

window.onload=function(){
if(localStorage.getItem("sound"))
document.getElementById("soundModal").style.display="none";
update();
}
</script>

</body>
</html>
