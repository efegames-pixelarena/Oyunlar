<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live 3D Blackjack</title>

<style>
body{
margin:0;
font-family:Arial;
background:#000;
color:white;
overflow:hidden;
}

/* ===== 3D SCENE ===== */
.scene{
position:absolute;
inset:0;
perspective:1200px;
transform-style:preserve-3d;
transition:transform 0.1s ease;
}

/* BACKGROUND */
.background-layer{
position:absolute;
inset:0;
background:
radial-gradient(circle at center,#1a1a1a 0%,#000 80%),
linear-gradient(to bottom,#111,#000);
transform:translateZ(-300px) scale(1.3);
}

/* ===== TOP BAR ===== */
.top-wrapper{
position:fixed;
top:0;
width:100%;
z-index:1000;
}

.top-bar{
height:80px;
background:linear-gradient(to bottom,#12202a,#0e1720);
display:flex;
justify-content:space-between;
align-items:center;
padding:0 15px;
}

.balance-box{
background:linear-gradient(45deg,#ff6a00,#ff2e00);
padding:10px 20px;
border-radius:15px;
font-weight:bold;
}

.menu-btn{
background:#1c1c1c;
padding:10px;
border-radius:10px;
font-size:20px;
}

.info-bar{
background:#111;
text-align:center;
padding:6px;
font-weight:bold;
letter-spacing:1px;
}

/* ===== DEALER STAGE ===== */
.stage-3d{
position:absolute;
top:120px;
width:100%;
display:flex;
justify-content:center;
transform-style:preserve-3d;
}

.stage-frame{
width:85%;
height:220px;
border-radius:30px;
border:8px solid #ff6a00;
box-shadow:0 0 25px #ff6a00;
background:#1a1a1a;
display:flex;
justify-content:center;
align-items:center;
transform:rotateX(5deg) translateZ(50px);
}

.neon{
font-size:26px;
text-align:center;
text-shadow:0 0 15px orange,0 0 30px #ff6a00;
}

.neon span{color:gold;}

/* ===== DEALER CARDS ===== */
.dealer-cards{
position:absolute;
top:320px;
width:100%;
text-align:center;
font-size:22px;
}

/* ===== TABLE ===== */
.table-3d{
position:absolute;
bottom:-80px;
width:100%;
height:55vh;
display:flex;
justify-content:center;
transform-style:preserve-3d;
}

.table-surface{
width:95%;
height:100%;
background:radial-gradient(circle at center,#2b2b2b 0%,#111 80%);
border-top-left-radius:300px;
border-top-right-radius:300px;
border:10px solid #ff6a00;
box-shadow:0 0 40px #ff6a00;
text-align:center;
padding-top:60px;
transform:rotateX(55deg);
font-weight:bold;
opacity:0.9;
}

.player-cards{
margin-top:20px;
font-size:22px;
}

/* ===== ACTION ===== */
.action-bar{
position:absolute;
bottom:140px;
width:80%;
left:10%;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(8px);
border-radius:20px;
padding:10px;
display:flex;
justify-content:space-around;
z-index:1000;
}

.action{
width:55px;
height:55px;
border-radius:12px;
background:#1c1c1c;
border:none;
color:white;
font-size:20px;
}

.action.active{
background:gold;
color:black;
}

/* CHIP */
.chip-area{
position:absolute;
bottom:40px;
width:100%;
display:flex;
justify-content:center;
}

.chip{
width:90px;
height:90px;
border-radius:50%;
background:#1976d2;
border:6px solid white;
display:flex;
justify-content:center;
align-items:center;
font-size:22px;
font-weight:bold;
box-shadow:0 0 15px #1976d2;
cursor:pointer;
}

/* SOUND MODAL */
.sound-modal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.9);
display:flex;
justify-content:center;
align-items:center;
z-index:2000;
}

.sound-box{
background:#1a1a1a;
padding:25px;
border-radius:20px;
width:280px;
text-align:center;
}

.sound-btn{
width:100%;
padding:15px;
margin:10px 0;
font-size:18px;
border-radius:12px;
border:none;
}

.on{background:#f4c542;color:black;}
.off{background:#333;color:white;}
</style>
</head>

<body>

<div id="soundModal" class="sound-modal">
<div class="sound-box">
<button class="sound-btn on" onclick="enableSound()">ðŸ”Š Ses AÃ§Ä±k</button>
<button class="sound-btn off" onclick="disableSound()">ðŸ”‡ Ses KapalÄ±</button>
</div>
</div>

<div class="scene" id="scene">

<div class="background-layer"></div>

<div class="top-wrapper">
<div class="top-bar">
<div class="balance-box">GerÃ§ek Bakiye â‚º<span id="balance">1000</span></div>
<div class="menu-btn">â˜°</div>
</div>
<div class="info-bar">LÃœTFEN BAHÄ°S ALINIZ</div>
</div>

<div class="stage-3d">
<div class="stage-frame">
<div class="neon">SOLO<span>BET</span><br>Blackjack <span>Auto</span></div>
</div>
</div>

<div class="dealer-cards" id="dealerCards"></div>

<div class="table-3d">
<div class="table-surface">
BLACKJACK PAYS 3 TO 2<br>
INSURANCE PAYS 2 TO 1
<div class="player-cards" id="playerCards"></div>
</div>
</div>

<div class="action-bar">
<button class="action" onclick="clearBet()">ðŸ—‘</button>
<button class="action active" onclick="repeatBet()">âŸ³</button>
<button class="action" onclick="deal()">â–¶</button>
</div>

<div class="chip-area">
<div class="chip" onclick="addBet(20)">20</div>
</div>

</div>

<script>
let balance=1000;
let bet=0;
let lastBet=0;
let shoe;
let player=[];
let dealer=[];

class Shoe{
constructor(d=8){this.d=d;this.init();}
init(){
const suits=["â™ ","â™¥","â™¦","â™£"];
const vals=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];
this.cards=[];
for(let k=0;k<this.d;k++)
for(let s of suits)
for(let v of vals)
this.cards.push({v,s});
this.cards.sort(()=>Math.random()-0.5);
}
draw(){return this.cards.pop();}
}

function calc(hand){
let t=0,a=0;
for(let c of hand){
if(["J","Q","K"].includes(c.v))t+=10;
else if(c.v=="A"){t+=11;a++;}
else t+=parseInt(c.v);
}
while(t>21&&a>0){t-=10;a--;}
return t;
}

function addBet(x){
if(balance>=x){bet+=x;balance-=x;update();}
}

function clearBet(){balance+=bet;bet=0;update();}
function repeatBet(){if(balance>=lastBet){bet+=lastBet;balance-=lastBet;update();}}

function deal(){
if(bet==0)return;
shoe=shoe||new Shoe();
player=[shoe.draw(),shoe.draw()];
dealer=[shoe.draw(),shoe.draw()];
lastBet=bet;

let p=calc(player);
let d=calc(dealer);

if(p==21&&d!=21)balance+=bet*2.5;
else if(p>21){}
else if(d>21||p>d)balance+=bet*2;
else if(p==d)balance+=bet;

bet=0;
renderCards();
update();
}

function renderCards(){
document.getElementById("playerCards").innerText=
player.map(c=>c.v+c.s).join(" ")+" ("+calc(player)+")";

document.getElementById("dealerCards").innerText=
dealer.map(c=>c.v+c.s).join(" ")+" ("+calc(dealer)+")";
}

function update(){document.getElementById("balance").innerText=balance;}

function enableSound(){
localStorage.setItem("sound","on");
document.getElementById("soundModal").style.display="none";
}

function disableSound(){
localStorage.setItem("sound","off");
document.getElementById("soundModal").style.display="none";
}

window.onload=function(){
if(localStorage.getItem("sound"))
document.getElementById("soundModal").style.display="none";
update();
}

/* PARALLAX */
const scene=document.getElementById("scene");
document.addEventListener("mousemove",e=>{
let x=(window.innerWidth/2-e.clientX)/40;
let y=(window.innerHeight/2-e.clientY)/40;
scene.style.transform=`rotateY(${x}deg) rotateX(${-y}deg)`;
});
document.addEventListener("touchmove",e=>{
let t=e.touches[0];
let x=(window.innerWidth/2-t.clientX)/50;
let y=(window.innerHeight/2-t.clientY)/50;
scene.style.transform=`rotateY(${x}deg) rotateX(${-y}deg)`;
});
</script>

</body>
</html>
