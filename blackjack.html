<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Live Blackjack</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Arial, sans-serif;
}

html,body{
height:100%;
overflow:hidden;
}

body{
background:url("https://images.unsplash.com/photo-1596838132731-3301c3fd4317?q=80&w=1400") no-repeat center center/cover;
display:flex;
flex-direction:column;
color:white;
}

/* ÃœST BAR */
.topbar{
display:flex;
justify-content:space-between;
padding:15px;
background:rgba(0,0,0,0.7);
font-weight:bold;
}

/* MASA */
.table{
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
position:relative;
}

.felt{
width:90%;
max-width:500px;
height:350px;
background:radial-gradient(circle,#0a5c3a,#063d27);
border-radius:200px 200px 50px 50px;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
box-shadow:0 0 40px black inset;
position:relative;
padding:20px;
}

/* KARTLAR */
.cards{
display:flex;
gap:10px;
margin:10px 0;
}

.card{
width:60px;
height:90px;
background:white;
color:black;
border-radius:8px;
display:flex;
justify-content:center;
align-items:center;
font-size:20px;
font-weight:bold;
animation:deal 0.3s ease;
}

@keyframes deal{
from{transform:translateY(-50px);opacity:0;}
to{transform:translateY(0);opacity:1;}
}

/* BUTONLAR */
.buttons{
margin-top:10px;
}

button{
padding:8px 14px;
margin:4px;
border:none;
border-radius:6px;
font-weight:bold;
}

button:disabled{
opacity:0.5;
}

/* CHIPLER */
.chips{
display:flex;
justify-content:center;
gap:15px;
padding:15px;
}

.chip{
width:70px;
height:70px;
border-radius:50%;
background:gold;
display:flex;
justify-content:center;
align-items:center;
font-weight:bold;
color:black;
cursor:pointer;
box-shadow:0 0 10px black;
transition:0.2s;
}

.chip:active{
transform:scale(0.9);
}

/* CHAT */
.chat{
position:absolute;
top:20px;
right:20px;
background:rgba(0,0,0,0.7);
padding:10px;
border-radius:10px;
font-size:14px;
max-width:180px;
min-height:30px;
}

/* SONUÃ‡ */
.result{
position:absolute;
top:10px;
left:50%;
transform:translateX(-50%);
background:rgba(0,0,0,0.7);
padding:8px 15px;
border-radius:8px;
}
</style>
</head>
<body>

<div class="topbar">
<div>Bakiye: â‚º<span id="balance">500</span></div>
<div>Bahis: â‚º<span id="bet">0</span></div>
</div>

<div class="table">
<div class="felt">

<div class="result" id="result"></div>

<h3>Dealer</h3>
<div class="cards" id="dealerCards"></div>

<h3>Oyuncu</h3>
<div class="cards" id="playerCards"></div>

<div class="buttons">
<button id="hitBtn" disabled>Hit</button>
<button id="standBtn" disabled>Stand</button>
</div>

</div>

<div class="chat" id="chat">HoÅŸ geldin ðŸ‘‹</div>
</div>

<div class="chips">
<div class="chip" onclick="placeBet(50)">50â‚º</div>
<div class="chip" onclick="placeBet(100)">100â‚º</div>
<div class="chip" onclick="placeBet(250)">250â‚º</div>
</div>

<script>
let balance = localStorage.getItem("balance") 
? parseInt(localStorage.getItem("balance")) 
: 500;

let bet = 0;
let player = [];
let dealer = [];
let deck = [];

document.getElementById("balance").innerText = balance;

function createDeck(){
let suits = ["â™ ","â™¥","â™¦","â™£"];
let values = ["A","2","3","4","5","6","7","8","9","10","J","Q","K"];
deck=[];
for(let s of suits){
for(let v of values){
deck.push(v+s);
}
}
deck.sort(()=>Math.random()-0.5);
}

function getValue(card){
let v = card.slice(0,-1);
if(["J","Q","K"].includes(v)) return 10;
if(v==="A") return 11;
return parseInt(v);
}

function total(cards){
let sum=0;
let aces=0;
for(let c of cards){
sum+=getValue(c);
if(c.startsWith("A")) aces++;
}
while(sum>21 && aces>0){
sum-=10;
aces--;
}
return sum;
}

function placeBet(amount){
if(balance<amount) return;
bet=amount;
balance-=amount;
updateUI();
startRound();
}

function updateUI(){
document.getElementById("balance").innerText=balance;
document.getElementById("bet").innerText=bet;
localStorage.setItem("balance",balance);
}

function startRound(){
createDeck();
player=[];
dealer=[];
clearCards();
document.getElementById("result").innerText="";
document.getElementById("chat").innerText="Kartlar daÄŸÄ±tÄ±lÄ±yor...";

document.getElementById("hitBtn").disabled=false;
document.getElementById("standBtn").disabled=false;

dealCard(player,"playerCards");
setTimeout(()=>dealCard(dealer,"dealerCards"),500);
setTimeout(()=>dealCard(player,"playerCards"),1000);
setTimeout(()=>dealCard(dealer,"dealerCards"),1500);
}

function dealCard(hand,container){
let card=deck.pop();
hand.push(card);

let div=document.createElement("div");
div.className="card";
div.innerText=card;
document.getElementById(container).appendChild(div);
}

function clearCards(){
document.getElementById("playerCards").innerHTML="";
document.getElementById("dealerCards").innerHTML="";
}

document.getElementById("hitBtn").onclick=function(){
dealCard(player,"playerCards");
if(total(player)>21){
endRound();
}
}

document.getElementById("standBtn").onclick=function(){
while(total(dealer)<17){
dealCard(dealer,"dealerCards");
}
endRound();
}

function endRound(){
document.getElementById("hitBtn").disabled=true;
document.getElementById("standBtn").disabled=true;

let p=total(player);
let d=total(dealer);
let resultText="";

if(p>21){
resultText="Kaybettin!";
}
else if(d>21 || p>d){
resultText="KazandÄ±n!";
balance+=bet*2;
}
else if(p===d){
resultText="Berabere!";
balance+=bet;
}
else{
resultText="Kaybettin!";
}

document.getElementById("result").innerText=resultText;
updateUI();
bet=0;
document.getElementById("bet").innerText=0;

setTimeout(()=>{
clearCards();
document.getElementById("result").innerText="";
document.getElementById("chat").innerText="Yeni bahis bekleniyor...";
},3000);
}
</script>

</body>
</html>
