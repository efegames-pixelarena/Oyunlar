<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PixelArena Blackjack Live</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:Arial, sans-serif;
    height:100vh;
    overflow:hidden;
    background:linear-gradient(to bottom,#000 0%,#000 45%,#ff7b00 46%,#0b5d2a 47%,#063d1c 100%);
    color:white;
}

/* TOP BAR */
.top-bar{
    position:absolute;
    top:0;
    width:100%;
    height:55px;
    background:rgba(0,0,0,0.95);
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 20px;
    font-weight:bold;
    z-index:5;
}
.logo{
    font-size:22px;
    animation:neon 1.5s infinite alternate;
    text-shadow:0 0 10px #ff7b00,0 0 20px #ff7b00;
}
@keyframes neon{from{opacity:0.7;}to{opacity:1;}}

.header{
    position:absolute;
    top:70px;
    width:100%;
    text-align:center;
}
.header-box{
    display:inline-block;
    padding:20px 40px;
    border-radius:20px;
    border:4px solid #ff7b00;
    box-shadow:0 0 40px #ff7b00, inset 0 0 30px #ff7b00;
    font-size:26px;
}

.dealer-area{
    position:absolute;
    top:150px;
    width:100%;
    text-align:center;
}
.player-area{
    position:absolute;
    bottom:250px;
    width:100%;
    text-align:center;
}

.cards{
    display:flex;
    justify-content:center;
    gap:15px;
    perspective:1000px;
}

.card{
    width:70px;
    height:100px;
    background:white;
    border-radius:10px;
    position:relative;
    box-shadow:0 10px 20px rgba(0,0,0,0.6);
    transform:translateY(-200px) rotateY(90deg);
    animation:deal 0.6s forwards;
    font-family:"Times New Roman",serif;
}
@keyframes deal{to{transform:translateY(0) rotateY(0deg);}}

.corner{position:absolute;font-size:14px;font-weight:bold;}
.top-left{top:5px;left:6px;}
.bottom-right{bottom:5px;right:6px;transform:rotate(180deg);}
.center-symbol{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:28px;}

.red{color:red;}
.black{color:black;}

.back{
    background:linear-gradient(45deg,#001a4d,#003399);
    border:3px solid white;
}
.back::after{
    content:"ðŸ‚ ";
    position:absolute;
    top:50%;left:50%;
    transform:translate(-50%,-50%);
    font-size:30px;color:white;
}

.wait-bar{
    position:absolute;
    bottom:170px;
    width:70%;left:15%;
    padding:18px;text-align:center;
    font-weight:bold;
    background:rgba(0,0,0,0.8);
    border-radius:8px;
}

.controls{
    position:absolute;
    bottom:100px;
    width:100%;
    text-align:center;
}
button{
    padding:14px 25px;margin:8px;
    font-size:16px;border:none;
    border-radius:8px;font-weight:bold;
    cursor:pointer;
}
#dealBtn{background:#f5a623;}
#hitBtn{background:#2ecc71;}
#standBtn{background:#e74c3c;}
</style>
</head>
<body>

<div class="top-bar">
    <div>BAKÄ°YE: <span id="balance">1000</span>â‚º</div>
    <div class="logo">âš¡ PixelArena âš¡</div>
    <div>BAHÄ°S: <span id="bet">50</span>â‚º</div>
</div>

<div class="header">
    <div class="header-box">PixelArena Blackjack Live</div>
</div>

<div class="dealer-area">
    <div id="dealerCards" class="cards"></div>
</div>

<div id="waitBar" class="wait-bar">SONRAKÄ° OYUNU BEKLEYÄ°N</div>

<div class="player-area">
    <div id="playerCards" class="cards"></div>
</div>

<div class="controls">
    <button id="dealBtn">DEAL</button>
    <button id="hitBtn">HIT</button>
    <button id="standBtn">STAND</button>
</div>

<script>
const suits=["â™¥","â™¦","â™£","â™ "];
let deck=[],player=[],dealer=[];
let gameOver=true;
let balance=1000;
let bet=50;

function createDeck(){
    deck=[];
    for(let s of suits){
        for(let i=1;i<=13;i++){
            deck.push({suit:s,value:i});
        }
    }
    deck.sort(()=>Math.random()-0.5);
}

function cardValue(card){
    if(card.value>10) return 10;
    if(card.value===1) return 11;
    return card.value;
}

function handValue(hand){
    let total=0,aces=0;
    for(let c of hand){
        total+=cardValue(c);
        if(c.value===1) aces++;
    }
    while(total>21 && aces>0){
        total-=10;aces--;
    }
    return total;
}

function renderCard(card,hidden=false){
    let div=document.createElement("div");
    div.className="card";
    if(hidden){
        div.classList.add("back");
        return div;
    }
    let color=(card.suit==="â™¥"||card.suit==="â™¦")?"red":"black";
    div.classList.add(color);

    let value=(card.value===1?"A":
              card.value===11?"J":
              card.value===12?"Q":
              card.value===13?"K":card.value);

    div.innerHTML=`
        <div class="corner top-left">${value}${card.suit}</div>
        <div class="corner bottom-right">${value}${card.suit}</div>
        <div class="center-symbol">${card.suit}</div>
    `;
    return div;
}

function dealCard(target,hidden=false){
    return new Promise(resolve=>{
        setTimeout(()=>{
            let card=deck.pop();
            if(target==="player"){
                player.push(card);
                playerCards.appendChild(renderCard(card,false));
            }else{
                dealer.push(card);
                dealerCards.appendChild(renderCard(card,hidden));
            }
            resolve();
        },600);
    });
}

async function startGame(){
    gameOver=false;
    balance-=bet;
    document.getElementById("balance").innerText=balance;
    waitBar.innerText="";
    player=[];dealer=[];
    playerCards.innerHTML="";
    dealerCards.innerHTML="";
    createDeck();

    await dealCard("player",false);
    await dealCard("dealer",false);
    await dealCard("player",false);
    await dealCard("dealer",true);
}

function hit(){
    if(gameOver) return;
    dealCard("player",false).then(()=>{
        if(handValue(player)>21){
            endGame();
        }
    });
}

async function stand(){
    if(gameOver) return;
    gameOver=true;

    dealerCards.innerHTML="";
    dealer.forEach(c=>{
        dealerCards.appendChild(renderCard(c,false));
    });

    while(handValue(dealer)<17){
        await dealCard("dealer",false);
    }

    endGame();
}

function endGame(){
    let p=handValue(player);
    let d=handValue(dealer);
    let msg="";

    if(p>21){
        msg="Kaybettin!";
    }else if(d>21){
        balance+=bet*2;
        msg="Dealer geÃ§ti! KazandÄ±n!";
    }else if(d<p){
        balance+=bet*2;
        msg="KazandÄ±n!";
    }else if(d>p){
        msg="Dealer kazandÄ±! Bahis kaybedildi.";
    }else{
        balance+=bet;
        msg="Berabere!";
    }

    document.getElementById("balance").innerText=balance;
    waitBar.innerText=msg + " - SONRAKÄ° OYUNU BEKLEYÄ°N";
}

dealBtn.onclick=startGame;
hitBtn.onclick=hit;
standBtn.onclick=stand;
</script>

</body>
</html>
