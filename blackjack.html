<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PixelArena Blackjack</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:Arial;
    height:100vh;
    overflow:hidden;
    background:linear-gradient(to bottom,#000 0%,#000 45%,#ff7b00 46%,#0b5d2a 47%,#063d1c 100%);
    color:white;
}

/* TOP BAR */
.top-bar{
    position:absolute;top:0;width:100%;height:55px;
    background:black;display:flex;justify-content:space-between;
    align-items:center;padding:0 20px;font-weight:bold;
}
.logo{
    font-size:22px;
    animation:neon 1.5s infinite alternate;
    text-shadow:0 0 10px #ff7b00,0 0 20px #ff7b00;
}
@keyframes neon{from{opacity:.7}to{opacity:1}}

.area{position:absolute;width:100%;text-align:center;}
#dealerArea{top:120px;}
#playerArea{bottom:240px;}

.cards{display:flex;justify-content:center;gap:15px;perspective:1000px;}

.card{
    width:75px;height:110px;
    transform-style:preserve-3d;
    position:relative;
    transition:transform .6s;
}
.card-inner{
    position:absolute;width:100%;height:100%;
    backface-visibility:hidden;
    border-radius:10px;
}
.front{
    background:white;color:black;
    box-shadow:0 10px 20px rgba(0,0,0,.6);
}
.back{
    background:linear-gradient(45deg,#001a4d,#003399);
    transform:rotateY(180deg);
    border:3px solid white;
}
.flip{transform:rotateY(180deg);}

.corner{position:absolute;font-size:14px;font-weight:bold;}
.top-left{top:5px;left:6px;}
.bottom-right{bottom:5px;right:6px;transform:rotate(180deg);}
.center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:30px;}

.red{color:red;}
.black{color:black;}

#message{
    position:absolute;
    bottom:170px;width:100%;text-align:center;
    font-size:20px;font-weight:bold;
}

.controls{
    position:absolute;bottom:90px;width:100%;text-align:center;
}
button{
    padding:12px 20px;margin:6px;border:none;
    border-radius:8px;font-weight:bold;cursor:pointer;
}
#deal{background:#f5a623}
#hit{background:#2ecc71}
#stand{background:#e74c3c}

.chips{
    position:absolute;bottom:10px;width:100%;
    text-align:center;
}
.chip{
    display:inline-block;
    width:60px;height:60px;
    border-radius:50%;
    line-height:60px;
    font-weight:bold;
    margin:5px;
    cursor:pointer;
    box-shadow:0 0 10px black;
}
.c10{background:white;color:black}
.c25{background:green}
.c50{background:red}
.c100{background:black}
</style>
</head>
<body>

<div class="top-bar">
<div>BAKİYE: <span id="balance">1000</span>₺</div>
<div class="logo">⚡ PixelArena ⚡</div>
<div>BAHİS: <span id="bet">0</span>₺</div>
</div>

<div id="dealerArea" class="area">
<div id="dealerCards" class="cards"></div>
</div>

<div id="message">Bahis Yapın</div>

<div id="playerArea" class="area">
<div id="playerCards" class="cards"></div>
</div>

<div class="controls">
<button id="deal">DEAL</button>
<button id="hit">HIT</button>
<button id="stand">STAND</button>
</div>

<div class="chips">
<div class="chip c10" onclick="addBet(10)">10</div>
<div class="chip c25" onclick="addBet(25)">25</div>
<div class="chip c50" onclick="addBet(50)">50</div>
<div class="chip c100" onclick="addBet(100)">100</div>
</div>

<script>
const suits=["♥","♦","♣","♠"];
let deck=[],player=[],dealer=[];
let balance=1000,bet=0;
let gameOver=true;
let insuranceBet=0;

function createDeck(){
deck=[];
for(let s of suits){
for(let i=1;i<=13;i++){
deck.push({suit:s,value:i});
}}
deck.sort(()=>Math.random()-0.5);
}

function value(c){
if(c.value>10)return 10;
if(c.value==1)return 11;
return c.value;
}

function total(hand){
let t=0,a=0;
hand.forEach(c=>{t+=value(c);if(c.value==1)a++;});
while(t>21&&a>0){t-=10;a--;}
return t;
}

function isBlackjack(hand){
return hand.length==2 && total(hand)==21;
}

function render(card,hidden=false){
let cardDiv=document.createElement("div");
cardDiv.className="card";

let front=document.createElement("div");
front.className="card-inner front";

let back=document.createElement("div");
back.className="card-inner back";

if(!hidden){
let color=(card.suit=="♥"||card.suit=="♦")?"red":"black";
front.classList.add(color);
let val=(card.value==1?"A":card.value==11?"J":card.value==12?"Q":card.value==13?"K":card.value);
front.innerHTML=`
<div class="corner top-left">${val}${card.suit}</div>
<div class="corner bottom-right">${val}${card.suit}</div>
<div class="center">${card.suit}</div>`;
}

cardDiv.appendChild(front);
cardDiv.appendChild(back);

if(hidden) cardDiv.classList.add("flip");
return cardDiv;
}

function dealCard(to,hidden=false){
let c=deck.pop();
if(to=="player"){
player.push(c);
playerCards.appendChild(render(c,false));
}else{
dealer.push(c);
dealerCards.appendChild(render(c,hidden));
}
}

function addBet(amount){
if(balance>=amount){
bet+=amount;
document.getElementById("bet").innerText=bet;
}
}

function start(){
if(bet==0)return alert("Bahis yapın");
gameOver=false;
balance-=bet;
updateBalance();
message.innerText="";
player=[];dealer=[];
playerCards.innerHTML="";
dealerCards.innerHTML="";
createDeck();

dealCard("player");
dealCard("dealer");
dealCard("player");
dealCard("dealer",true);

if(isBlackjack(player)){
setTimeout(()=>endGame(true),1000);
}

if(dealer[0].value==1){
insuranceOffer();
}
}

function insuranceOffer(){
let take=confirm("Dealer As gösterdi. Sigorta almak ister misiniz?");
if(take){
insuranceBet=bet/2;
balance-=insuranceBet;
updateBalance();
}
}

function hit(){
if(gameOver)return;
dealCard("player");
if(total(player)>21)endGame();
}

function stand(){
if(gameOver)return;
gameOver=true;
dealerCards.innerHTML="";
dealer.forEach(c=>dealerCards.appendChild(render(c,false)));

while(total(dealer)<17){
dealCard("dealer");
}

endGame();
}

function endGame(playerBJ=false){
gameOver=true;
let p=total(player);
let d=total(dealer);
let msg="";

if(playerBJ && !isBlackjack(dealer)){
balance+=bet*2.5;
msg="BLACKJACK! 3:2 Ödeme!";
}
else if(isBlackjack(dealer)){
if(insuranceBet>0) balance+=insuranceBet*3;
msg="Dealer BLACKJACK!";
}
else if(p>21){
msg="Kaybettin!";
}
else if(d>21 || p>d){
balance+=bet*2;
msg="Kazandın!";
}
else if(d>p){
msg="Dealer Kazandı!";
}
else{
balance+=bet;
msg="Berabere!";
}

bet=0;
insuranceBet=0;
updateBalance();
document.getElementById("bet").innerText=bet;
message.innerText=msg;
}

function updateBalance(){
document.getElementById("balance").innerText=balance;
}

deal.onclick=start;
hit.onclick=hit;
stand.onclick=stand;
</script>

</body>
</html>
