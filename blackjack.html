<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Live Blackjack Studio PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#000;overflow:hidden;height:100svh;}
.app{width:100vw;height:100svh;position:relative;color:white;overflow:hidden;}
:root{--safe-bottom: env(safe-area-inset-bottom);}

/* STUDIO */
.studio{
position:absolute;top:0;left:0;width:100%;height:65%;
background:
linear-gradient(to bottom,rgba(0,0,0,0.2),rgba(0,0,0,0.7)),
url('https://images.unsplash.com/photo-1512453979798-5ea266f8880c?auto=format&fit=crop&w=1400&q=80');
background-size:cover;background-position:center;
}

/* KRUPÄ°YE AVATAR */
.dealerAvatar{
width:90px;
border-radius:50%;
margin-bottom:10px;
animation:pulse 2s infinite;
}
@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.05)}
100%{transform:scale(1)}
}

.ticker{
position:absolute;
top:65%;
left:50%;
transform:translate(-50%,-50%);
font-size:20px;
font-weight:bold;
color:#00ffcc;
text-shadow:0 0 20px #00ffaa;
z-index:20;
}

.topBar{
position:absolute;top:0;width:100%;height:35px;
background:rgba(0,0,0,.6);
display:flex;justify-content:space-between;
align-items:center;padding:0 10px;font-size:12px;
}

.viewer{
position:absolute;top:45px;right:15px;
background:rgba(0,0,0,.6);
padding:5px 10px;border-radius:20px;font-size:12px;
}

.dealerZone{
position:absolute;top:60px;left:0;width:100%;text-align:center;
}

.score{font-size:14px;color:#22c55e;margin-top:5px;}
.sectionTitle{font-size:12px;opacity:.6;margin-top:5px;}

.table{
position:absolute;bottom:30%;left:0;width:100%;height:35%;
background:#0a0a0a;
border-top-left-radius:50% 25%;
border-top-right-radius:50% 25%;
box-shadow:0 -30px 80px rgba(0,0,0,.9);
padding-top:25px;text-align:center;
}

.hand{margin-top:10px;min-height:95px;}

.card{
width:60px;height:90px;background:white;border-radius:8px;
display:inline-flex;align-items:center;justify-content:center;
margin:4px;font-weight:bold;font-size:20px;
animation:deal .4s ease;
box-shadow:0 5px 15px rgba(0,0,0,.5);
transition:transform .6s;
transform-style:preserve-3d;
}

.card.flip{transform:rotateY(180deg);}

.red{color:#c1121f}
.black{color:black}
.card.back{background:linear-gradient(45deg,#111,#333);color:#111;}

@keyframes deal{
from{transform:translateY(-120px) scale(.6);opacity:0}
to{transform:translateY(0) scale(1);opacity:1}
}

/* CHIP EFFECT */
.betBtn{
width:60px;height:60px;border-radius:50%;
background:rgba(255,255,255,.08);
display:flex;align-items:center;justify-content:center;
cursor:pointer;transition:.2s;
}
.betBtn:active{
transform:scale(.85);
box-shadow:0 0 25px #22c55e;
}

.betOptions{
position:absolute;
bottom:120px;
width:100%;display:flex;justify-content:center;gap:15px;
}

.controls{
position:absolute;
bottom:70px;
width:100%;text-align:center;
}

.controls button{
padding:8px 14px;margin:4px;border:none;
border-radius:6px;background:#22c55e;
color:black;font-weight:bold;cursor:pointer;
}

.bottomBar{
position:absolute;bottom:0;width:100%;height:70px;
background:linear-gradient(to top,#000,#111);
display:flex;justify-content:space-between;align-items:center;
padding:0 15px;font-size:13px;
}

/* CHAT */
#chatBox{
position:absolute;
right:10px;
bottom:160px;
width:160px;
height:150px;
background:rgba(0,0,0,.6);
overflow:hidden;
font-size:11px;
padding:5px;
border-radius:8px;
}
</style>
</head>

<body>
<div class="app">

<div class="studio"></div>

<div class="topBar">
<div>TÃ¼rkÃ§e Blackjack â€¢ 8 Deck â€¢ S17</div>
<div>ID: <span id="roundId">-</span></div>
</div>

<div class="viewer">ðŸ‘¤ 56</div>

<div class="dealerZone">
<img class="dealerAvatar" src="https://i.imgur.com/8Km9tLL.png">
<div class="sectionTitle">Dealer</div>
<div class="score" id="dealerScore"></div>
<div class="hand" id="dealerHand"></div>
</div>

<div class="table">
<div class="sectionTitle">Oyuncu</div>
<div class="score" id="playerScore"></div>
<div class="hand" id="playerHand"></div>
</div>

<div id="chatBox"></div>

<div class="betOptions">
<div class="betBtn" onclick="placeBet(50)">50â‚º</div>
<div class="betBtn" onclick="placeBet(100)">100â‚º</div>
<div class="betBtn" onclick="placeBet(250)">250â‚º</div>
</div>

<div class="controls">
<button id="dealBtn" onclick="startRound()">DaÄŸÄ±t</button>
<button id="hitBtn" onclick="hit()" disabled>Hit</button>
<button id="standBtn" onclick="stand()" disabled>Stand</button>
<button id="doubleBtn" onclick="doubleDown()" disabled>Double</button>
<button id="splitBtn" onclick="splitHand()" disabled>Split</button>
</div>

<div class="ticker" id="ticker">Bahis koyun</div>

<div class="bottomBar">
<div>Bakiye: â‚º<span id="balance">0</span></div>
<div>Bahis: â‚º<span id="bet">0</span></div>
<div>Jackpot: â‚º<span id="jackpot">50000</span></div>
<div>Win Rate: <span id="winRate">0%</span></div>
</div>

</div>

<script>

/* ===== GAME STATE ===== */

let shoe=[],player=[],dealer=[]
let balance = localStorage.getItem("balance") ? parseInt(localStorage.getItem("balance")) : 2000;
let currentBet=0,round=1,gameActive=false
let totalWins=0,totalGames=0
let jackpot=50000

const SUITS=['â™ ','â™¥','â™¦','â™£']
const VALUES=['A','2','3','4','5','6','7','8','9','10','J','Q','K']

function buildShoe(){
shoe=[]
for(let d=0;d<8;d++)
for(let s of SUITS)
for(let v of VALUES)
shoe.push({value:v,suit:s})
shuffle()
}

function shuffle(){
for(let i=shoe.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1))
;[shoe[i],shoe[j]]=[shoe[j],shoe[i]]
}
}

function draw(){
if(shoe.length<60) buildShoe()
return shoe.pop()
}

function value(c){
if(c.value=="A") return 11
if(["K","Q","J"].includes(c.value)) return 10
return parseInt(c.value)
}

function score(hand){
let total=0,aces=0
hand.forEach(c=>{
total+=value(c)
if(c.value=="A") aces++
})
while(total>21&&aces>0){
total-=10;aces--
}
return total
}

function cardHTML(c){
let color=(c.suit=="â™¥"||c.suit=="â™¦")?"red":"black"
return `<div class="card ${color}">${c.value}${c.suit}</div>`
}

function placeBet(amount){
if(gameActive||balance<amount)return
balance-=amount
currentBet+=amount
updateUI()
}

function startRound(){
if(currentBet<=0)return
player=[];dealer=[]
gameActive=true
document.getElementById("roundId").innerText="EV-"+round++
document.getElementById("hitBtn").disabled=false
document.getElementById("standBtn").disabled=false
document.getElementById("doubleBtn").disabled=false
document.getElementById("splitBtn").disabled=false

player.push(draw())
dealer.push(draw())
player.push(draw())
dealer.push(draw())

render(true)
updateScores(true)
document.getElementById("ticker").innerText="Karar ver"
}

function hit(){
player.push(draw())
render(true)
updateScores(true)
if(score(player)>21){
stand()
}
}

function stand(){
render(false)
updateScores(false)
dealerPlay()
}

function dealerPlay(){
while(score(dealer)<17){
dealer.push(draw())
}
endRound()
}

function doubleDown(){
if(balance<currentBet||player.length!=2)return
balance-=currentBet
currentBet*=2
hit()
stand()
}

function splitHand(){
if(player.length!=2)return
if(player[0].value!=player[1].value)return
if(balance<currentBet)return
balance-=currentBet
currentBet*=2
player=[player[0],draw()]
dealer.push(draw())
render(true)
updateScores(true)
}

function endRound(){
gameActive=false
document.getElementById("hitBtn").disabled=true
document.getElementById("standBtn").disabled=true
document.getElementById("doubleBtn").disabled=true
document.getElementById("splitBtn").disabled=true

let p=score(player),d=score(dealer)
let result=""

totalGames++

if(p>21){result="Bust!"}
else if(d>21||p>d){
balance+=currentBet*2
totalWins++
if(p==21&&player.length==2){
balance+=jackpot
jackpot=50000
}
}
else if(p==d){balance+=currentBet}
else{result="Kaybettin"}

currentBet=0
updateUI()

document.getElementById("winRate").innerText=
Math.round((totalWins/totalGames)*100)+"%"
}

function render(hideDealer=false){
document.getElementById("playerHand").innerHTML=player.map(cardHTML).join("")
if(hideDealer){
document.getElementById("dealerHand").innerHTML=
dealer.length?cardHTML(dealer[0])+`<div class="card back"></div>`:""
}else{
document.getElementById("dealerHand").innerHTML=
dealer.map(cardHTML).join("")
}
}

function updateScores(hideDealer=false){
document.getElementById("playerScore").innerText=
player.length?"Toplam: "+score(player):""

if(dealer.length){
if(hideDealer){
document.getElementById("dealerScore").innerText="Toplam: "+value(dealer[0])
}else{
document.getElementById("dealerScore").innerText="Toplam: "+score(dealer)
}
}else{
document.getElementById("dealerScore").innerText=""
}
}

function updateUI(){
document.getElementById("balance").innerText=balance
document.getElementById("bet").innerText=currentBet
document.getElementById("jackpot").innerText=jackpot
localStorage.setItem("balance",balance)
}

/* FAKE CHAT */
const fakeMessages=[
"Ali: 1000â‚º basÄ±yorum!",
"AyÅŸe: Blackjack geliyor ðŸ˜Ž",
"Mehmet: Split yaptÄ±m",
"Zeynep: Hadi krupiye!",
"Kerem: Push oldu..."
]

setInterval(()=>{
let msg=fakeMessages[Math.floor(Math.random()*fakeMessages.length)]
let box=document.getElementById("chatBox")
box.innerHTML+="<div>"+msg+"</div>"
box.scrollTop=box.scrollHeight
if(box.childNodes.length>10) box.removeChild(box.firstChild)
},3000)

/* Viewer canlÄ±lÄ±k */
setInterval(()=>{
document.querySelector(".viewer").innerText=
"ðŸ‘¤ "+(45+Math.floor(Math.random()*35))
},2500)

/* Jackpot artÄ±ÅŸÄ± */
setInterval(()=>{
jackpot+=Math.floor(Math.random()*200)
updateUI()
},4000)

buildShoe()
updateUI()

</script>
</body>
</html>
