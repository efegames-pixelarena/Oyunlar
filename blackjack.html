<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PixelArena Blackjack Live</title>

<style>
body{
    margin:0;
    background:radial-gradient(circle at center,#111 0%,#000 70%);
    font-family:Arial;
    color:white;
    overflow:hidden;
}

/* NEON ÃœST PANEL */
.top-panel{
    text-align:center;
    margin-top:40px;
    font-size:28px;
    padding:25px;
    border-radius:20px;
    width:80%;
    margin-left:auto;
    margin-right:auto;
    border:4px solid #ff7b00;
    box-shadow:0 0 30px #ff7b00, inset 0 0 30px #ff7b00;
}

/* MASA */
.table{
    position:absolute;
    bottom:0;
    width:100%;
    height:55%;
    background:radial-gradient(ellipse at center,#063 0%,#021 80%);
    border-top:6px solid #ff7b00;
    box-shadow:0 -10px 50px #ff7b00;
}

/* KART ALANLARI */
.area{
    position:absolute;
    width:100%;
    text-align:center;
}

#dealerArea{ top:120px; }
#playerArea{ bottom:200px; }

.card{
    width:80px;
    height:120px;
    background:white;
    border-radius:8px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:24px;
    margin:10px;
    color:black;
    position:relative;
    transform-style:preserve-3d;
    transition:1s;
    box-shadow:0 10px 20px rgba(0,0,0,0.6);
}

.red{ color:red; }

.back{
    background:linear-gradient(45deg,#001,#004);
    color:white;
}

/* 3D DEAL ANIM */
.deal{
    animation:dealAnim 1s ease;
}

@keyframes dealAnim{
    from{ transform:translateY(-300px) rotateY(180deg); opacity:0; }
    to{ transform:translateY(0) rotateY(0); opacity:1; }
}

/* BUTON PANEL */
.controls{
    position:absolute;
    bottom:30px;
    width:100%;
    text-align:center;
}

button{
    padding:15px 30px;
    margin:10px;
    font-size:18px;
    border:none;
    border-radius:10px;
    font-weight:bold;
    cursor:pointer;
}

#dealBtn{ background:#f5a623; }
#hitBtn{ background:#2ecc71; }
#standBtn{ background:#e74c3c; }

.status{
    position:absolute;
    bottom:110px;
    width:100%;
    text-align:center;
    font-size:20px;
}
</style>
</head>
<body>

<div class="top-panel">
    PixelArena Blackjack Live
</div>

<div id="dealerArea" class="area"></div>
<div id="playerArea" class="area"></div>

<div class="status" id="status"></div>

<div class="controls">
    <button id="dealBtn">DEAL</button>
    <button id="hitBtn">HIT</button>
    <button id="standBtn">STAND</button>
</div>

<div class="table"></div>

<script>
const suits=["â™¥","â™¦","â™£","â™ "];
let deck=[],player=[],dealer=[];
let hiddenCard=null;
let gameOver=true;

function createDeck(){
    deck=[];
    for(let s of suits){
        for(let i=1;i<=13;i++){
            deck.push({suit:s,value:i});
        }
    }
    deck.sort(()=>Math.random()-0.5);
}

function cardValue(card){
    if(card.value>10) return 10;
    if(card.value===1) return 11;
    return card.value;
}

function handValue(hand){
    let total=0, aces=0;
    for(let c of hand){
        total+=cardValue(c);
        if(c.value===1) aces++;
    }
    while(total>21 && aces>0){
        total-=10;
        aces--;
    }
    return total;
}

function renderCard(card,hidden=false){
    let div=document.createElement("div");
    div.className="card deal";
    if(hidden){
        div.classList.add("back");
        div.innerHTML="ðŸ‚ ";
    }else{
        let text=(card.value===1?"A":
                 card.value===11?"J":
                 card.value===12?"Q":
                 card.value===13?"K":card.value)
                 +card.suit;
        div.innerHTML=text;
        if(card.suit==="â™¥"||card.suit==="â™¦")
            div.classList.add("red");
    }
    return div;
}

function dealCard(toHand,area,hidden=false){
    let card=deck.pop();
    toHand.push(card);
    let el=renderCard(card,hidden);
    area.appendChild(el);
    return card;
}

function startGame(){
    gameOver=false;
    document.getElementById("status").innerText="";
    player=[]; dealer=[];
    document.getElementById("playerArea").innerHTML="";
    document.getElementById("dealerArea").innerHTML="";
    createDeck();

    dealCard(player,playerArea);
    dealCard(dealer,dealerArea);
    dealCard(player,playerArea);
    hiddenCard=dealCard(dealer,dealerArea,true);
}

function hit(){
    if(gameOver) return;
    dealCard(player,playerArea);
    if(handValue(player)>21){
        endGame();
    }
}

function stand(){
    if(gameOver) return;
    revealDealer();
}

function revealDealer(){
    dealerArea.innerHTML="";
    dealer.forEach(c=>{
        dealerArea.appendChild(renderCard(c));
    });
    dealerTurn();
}

function dealerTurn(){
    let interval=setInterval(()=>{
        if(handValue(dealer)<17){
            dealCard(dealer,dealerArea);
        }else{
            clearInterval(interval);
            endGame();
        }
    },3000);
}

function endGame(){
    gameOver=true;
    let p=handValue(player);
    let d=handValue(dealer);
    let msg="";
    if(p>21) msg="Kaybettin!";
    else if(d>21) msg="KazandÄ±n!";
    else if(p>d) msg="KazandÄ±n!";
    else if(p<d) msg="Kaybettin!";
    else msg="Berabere!";
    document.getElementById("status").innerText=msg;
}

dealBtn.onclick=startGame;
hitBtn.onclick=hit;
standBtn.onclick=stand;
</script>

</body>
</html>
