<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>PixelArena | Word-War</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #00f2ff; --a: #ff8a00; --bg: #03050a; --glass: rgba(15, 23, 42, 0.8); }
        body { background: var(--bg); color: white; font-family: 'Rajdhani', sans-serif; overflow: hidden; }

        /* Oyun Alanı */
        .arena {
            height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
        }

        /* Harf Kutuları */
        .letters-container {
            display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center;
        }
        .letter-card {
            width: 50px; height: 50px; background: var(--glass);
            border: 2px solid var(--p); border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            font-family: 'Orbitron'; font-size: 24px; font-weight: 900;
            text-shadow: 0 0 10px var(--p);
            animation: bounce 0.5s ease;
        }

        /* Kelime Giriş Alanı */
        .word-input {
            background: rgba(0,0,0,0.5); border: 2px solid #1e2642;
            border-radius: 15px; padding: 15px 25px; width: 100%; max-width: 400px;
            font-family: 'Orbitron'; font-size: 20px; color: var(--p);
            text-align: center; outline: none; transition: 0.3s;
        }
        .word-input:focus { border-color: var(--a); box-shadow: 0 0 15px rgba(255, 138, 0, 0.3); }

        /* Puan Tablosu */
        .stats {
            position: fixed; top: 20px; width: 90%; display: flex; justify-content: space-between;
            font-family: 'Orbitron'; font-size: 14px;
        }
        .score-box { background: var(--glass); padding: 10px 20px; border-radius: 10px; border: 1px solid var(--p); }

        @keyframes bounce { 0% { transform: scale(0.5); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<div class="arena">
    <div class="stats">
        <div class="score-box">SEN: <span id="myScore">0</span></div>
        <div class="score-box" style="border-color: var(--a);">RAKİP: <span id="oppScore">0</span></div>
    </div>

    <div id="status" style="margin-bottom: 20px; color: var(--a); font-family: 'Orbitron';">KELİME TÜRET!</div>

    <div class="letters-container" id="letterPool">
        <div class="letter-card">A</div>
        <div class="letter-card">K</div>
        <div class="letter-card">L</div>
        <div class="letter-card">İ</div>
        <div class="letter-card">M</div>
        <div class="letter-card">E</div>
        <div class="letter-card">P</div>
        <div class="letter-card">S</div>
    </div>

    <input type="text" id="inputField" class="word-input" placeholder="YAZ VE ENTER'A BAS..." autocomplete="off">
    
    <div id="resultMsg" style="margin-top: 20px; height: 30px; font-weight: bold;"></div>
</div>

<script type="module">
    // Firebase entegrasyonunu Reflex Duel'deki gibi buraya yapabilirsin.
    // Mantık: 
    // 1. inputField.onkeydown (Enter) dinle.
    // 2. Yazılan kelime letterPool'daki harfleri içeriyor mu kontrol et.
    // 3. Kelime geçerliyse Firestore'da "lastWinner"ı güncelle.
    
    const input = document.getElementById('inputField');
    const resultMsg = document.getElementById('resultMsg');

    input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const word = input.value.toUpperCase();
            checkWord(word);
            input.value = '';
        }
    });

    function checkWord(word) {
        // Basit bir kontrol örneği
        if (word.length < 3) {
            showResult("ÇOK KISA!", "#ff2a4d");
            return;
        }
        
        // Burada gerçek bir sözlük kontrolü (API veya Local JSON) yapılabilir.
        // Şimdilik sadece başarılı kabul edelim:
        showResult("MÜKEMMEL! +10 PUAN", "#00ff88");
        // Firebase Update: updateDoc(roomRef, { score1: increment(10), lastWord: word });
    }

    function showResult(msg, color) {
        resultMsg.innerText = msg;
        resultMsg.style.color = color;
        setTimeout(() => resultMsg.innerText = "", 2000);
    }
</script>

</body>
</html>
